import{R as O,j as e,r as o,d as F,a as b,u as D,N as v,C as L,L as c,b as h,c as j,F as k,e as P,f as R,B as q,g as z,h as S,i as M,k as B,l as U,m as V,n as f,o as Y,p as H,q as N,s as G,t as J}from"./vendor-DaIW4VCj.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Q={position:"fixed",top:"50%",left:"50%",backgroundColor:"#f8f9fa",transform:"translate(-50%, -50%)",zIndex:1e3,height:"90%",width:"90%",padding:"20px",overflow:"auto",borderRadius:"10px"},W={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3},K={position:"absolute",top:"10px",right:"10px",backgroundColor:"transparent",color:"black",border:"none",fontSize:"40px",cursor:"pointer",zIndex:1001};function X({children:r,onClose:t}){return O.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{style:W,onClick:t}),e.jsxs("div",{style:Q,children:[e.jsx("button",{style:K,onClick:t,children:"×"}),r]})]}),document.getElementById("cart-root"))}const E=o.createContext(),I=o.createContext(),Z=(r,t)=>{switch(t.type){case"ADD":return[...r,{id:t.id,name:t.name,quantity:t.quantity,size:t.size,price:t.price,img:t.img}];case"REMOVE":let n=[...r];return n.splice(t.index,1),n;case"UPDATE":let l=[...r];return l.find((s,i)=>{s.id==t.id&&(l[i]={...s,quantity:parseInt(t.quantity)+s.quantity,price:t.price+s.price})}),l;case"DROP":return[];default:return console.log("Error in reducer"),r}},$=({children:r})=>{const[t,n]=o.useReducer(Z,[]);return e.jsx(I.Provider,{value:n,children:e.jsx(E.Provider,{value:t,children:r})})},C=()=>o.useContext(E),T=()=>o.useContext(I);function ee(){let r=C(),t=T();if(r.length===0)return e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"80vh"},children:e.jsx("div",{className:"m-5 w-100 text-center fs-3",children:"The Cart is Empty!"})});const n=async()=>{let a=localStorage.getItem("userEmail");try{let s=await b.post("http://localhost:3000/api/orderData",{orderData:r,email:a,orderDate:new Date().toDateString()},{headers:{"Content-Type":"application/json"}});console.log(s.data),s.status===200?t({type:"DROP"}):console.error("Failed to checkout:",s.status)}catch(s){console.error("Error during checkout:",s)}};let l=r.reduce((a,s)=>a+s.price,0);return e.jsx("div",{children:e.jsxs("div",{className:"container m-auto mt-5 table-responsive table-responsive-sm table-responsive-md",children:[e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{className:"text-success fs-4",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"Name"}),e.jsx("th",{scope:"col",children:"Quantity"}),e.jsx("th",{scope:"col",children:"Option"}),e.jsx("th",{scope:"col",children:"Amount"}),e.jsx("th",{scope:"col"})]})}),e.jsx("tbody",{children:r.map((a,s)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:s+1}),e.jsx("td",{children:a.name}),e.jsx("td",{children:a.quantity}),e.jsx("td",{children:a.size}),e.jsx("td",{children:a.price}),e.jsx("td",{children:e.jsx(F,{onClick:()=>{t({type:"REMOVE",index:s})}})})]},a.id||s))})]}),e.jsx("div",{children:e.jsxs("h1",{className:"fs-2",children:["Total Price: ",l,"/-"]})}),e.jsx("div",{children:e.jsx("button",{className:"btn bg-success mt-5",onClick:n,children:"Check Out"})})]})})}function w(){let r=C();const[t,n]=o.useState(!1),l=D(),a=()=>{localStorage.removeItem("authToken"),l("/login")},s=()=>{n(!1)};return e.jsxs(v,{collapseOnSelect:!0,expand:"lg",className:"bg-body-tertiary fixed-top",children:[e.jsxs(L,{children:[e.jsx(v.Brand,{as:c,to:"/",children:"React-Bootstrap"}),e.jsx(v.Toggle,{"aria-controls":"responsive-navbar-nav"}),e.jsxs(v.Collapse,{id:"responsive-navbar-nav",children:[e.jsxs(h,{className:"me-auto",children:[e.jsx(h.Link,{as:c,to:"/features",children:"Features"}),e.jsx(h.Link,{as:c,to:"/pricing",children:"Pricing"}),e.jsxs(j,{title:"Dropdown",id:"collapsible-nav-dropdown",children:[e.jsx(j.Item,{as:c,to:"/action/3.1",children:"Action"}),e.jsx(j.Item,{as:c,to:"/action/3.2",children:"Another action"}),e.jsx(j.Item,{as:c,to:"/action/3.3",children:"Something"}),e.jsx(j.Divider,{}),e.jsx(j.Item,{as:c,to:"/action/3.4",children:"Separated link"})]}),localStorage.getItem("authToken")?e.jsxs(h.Link,{as:c,to:"/",children:[" ","My Orders"]}):""]}),localStorage.getItem("authToken")?e.jsxs(h,{children:[e.jsxs(h.Link,{className:"d-flex align-items-center text-dark",onClick:a,children:[e.jsx(k,{className:"me-2",style:{color:"#343a40"}})," Logout"]}),e.jsx("div",{className:"vr mx-2",style:{height:"2rem",borderColor:"black !important"}}),e.jsxs(h.Link,{as:c,to:"/",className:"d-flex align-items-center text-dark",onClick:()=>{n(!0)},children:[e.jsx(R,{className:"me-2",style:{color:"#343a40"}})," Cart",r.length>0&&e.jsx(q,{bg:"danger",className:"ms-2",children:r.length})]})]}):e.jsxs(h,{children:[e.jsxs(h.Link,{as:c,to:"/login",className:"d-flex align-items-center text-dark",children:[e.jsx(k,{className:"me-2",style:{color:"#343a40"}})," Login"]}),e.jsx("div",{className:"vr mx-2",style:{height:"2rem",borderColor:"black !important"}}),e.jsxs(h.Link,{as:c,to:"/createuser",className:"d-flex align-items-center text-dark",children:[e.jsx(P,{className:"me-2",style:{color:"#343a40"}})," Sign Up"]})]})]}),e.jsx("hr",{className:"my-4"})]}),t&&e.jsx(X,{onClose:s,children:e.jsx(ee,{})})]})}const se=()=>e.jsxs("footer",{className:"footer bg-white text-black mt-5 p-4",children:[e.jsx("hr",{}),e.jsx(L,{children:e.jsxs(z,{className:"align-items-center",children:[e.jsx(S,{md:6,children:e.jsx("span",{children:"© 2024 SAVORY SIP"})}),e.jsxs(S,{md:6,className:"d-flex justify-content-end align-items-center",children:[e.jsx("a",{href:"https://facebook.com",className:"text-black mx-2 social-icon","aria-label":"Facebook",children:e.jsx(M,{size:24})}),e.jsx("a",{href:"https://twitter.com",className:"text-black mx-2 social-icon","aria-label":"Twitter",children:e.jsx(B,{size:24})}),e.jsx("a",{href:"https://instagram.com",className:"text-black mx-2 social-icon","aria-label":"Instagram",children:e.jsx(U,{size:24})}),e.jsx("a",{href:"https://linkedin.com",className:"text-black mx-2 social-icon","aria-label":"LinkedIn",children:e.jsx(V,{size:24})})]})]})})]});function te(r){let t=T(),n=C();const l=o.useRef();let a=r.options,s=Object.keys(a);const[i,g]=o.useState(1),[d,m]=o.useState("");let A={width:"100%",height:"200px",objectFit:"cover"},u=r.foodItems;const _=async()=>{let x=[];for(const p of n)if(p.id===u._id){x=p;break}if(x!=[]&&x.size===d){await t({type:"UPDATE",id:u._id,price:y,quantity:i});return}await t({type:"ADD",id:u._id,name:u.name,price:y,quantity:i,size:d})};let y=i*parseInt(a[d]);return o.useEffect(()=>{m(l.current.value)},[]),e.jsx("div",{children:e.jsx("div",{className:"mt-3 ",children:e.jsxs(f,{style:{width:"18rem"},children:[e.jsx(f.Img,{variant:"top",src:u.img,style:A}),e.jsxs(f.Body,{children:[e.jsx(f.Title,{children:u.name}),e.jsx(f.Text,{children:u.description}),e.jsxs("div",{className:"container w-100",children:[e.jsx("select",{className:"m-2 h-100 bg-info text-white rounded",onChange:x=>{g(x.target.value)},children:Array.from(Array(6),(x,p)=>e.jsxs("option",{value:p+1,children:[" ",p+1," "]},p+1))}),e.jsx("select",{className:"m-2 h-100 bg-info text-white rounded",ref:l,onChange:x=>{m(x.target.value)},children:s.map(x=>e.jsx("option",{value:x,children:x},x))}),e.jsxs("div",{className:"d-inline h-100 fs-5",children:[y,"/-"]}),e.jsx("hr",{}),e.jsx("button",{className:"btn btn-success justify-center ms-2",onClick:_,children:" Add to Cart"})]})]})]})})})}function ae(){const r={height:"600px",objectFit:"fill"},[t,n]=o.useState(""),[l,a]=o.useState([]),[s,i]=o.useState([]),g=async()=>{let d=await b.get("http://localhost:3000/api/foodData");i(d.data[0]),a(d.data[1])};return o.useEffect(()=>{g()},[]),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(w,{})}),e.jsxs("div",{children:[e.jsx("style",{children:`
                      .carousel-control-prev,
                      .carousel-control-next {
                        top: 50%;
                        transform: translateY(-50%);
                      }
                    `}),e.jsxs("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel","data-bs-interval":"2000",children:[e.jsxs("div",{className:"carousel-inner",id:"carousel",children:[e.jsx("div",{className:"carousel-caption",style:{zIndex:"1000"},children:e.jsxs("div",{className:"d-flex justify-content-center",children:[e.jsx("input",{className:"form-control me-2 flex-grow-1",type:"search",placeholder:"Search","aria-label":"Search",style:{flexBasis:"75%"},value:t,onChange:d=>n(d.target.value)}),e.jsx("button",{className:"btn btn-warning",type:"submit",style:{flexBasis:"15%"},children:"Search"})]})}),e.jsx("div",{className:"carousel-item active",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",className:"d-block w-100",alt:"...",style:r})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"https://cdn.vox-cdn.com/thumbor/X7ZCi8NAJKvG8zqJ7VRe6Wym1UM=/0x0:2000x1333/920x0/filters:focal(0x0:2000x1333):format(webp):no_upscale()/cdn.vox-cdn.com/uploads/chorus_asset/file/24413549/2023_01_06_Toadstool_Cafe_039.jpg",className:"d-block w-100",alt:"...",style:r})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"https://cdn.vox-cdn.com/thumbor/5QgOWfkf48x_ho_Ipggp5T4-Jl0=/1400x788/filters:format(jpeg)/cdn.vox-cdn.com/uploads/chorus_asset/file/24413558/2023_01_06_Toadstool_Cafe_067.jpg",className:"d-block w-100",alt:"...",style:r})})]}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})]}),e.jsx("div",{className:"container",children:l.length>0?l.map(d=>e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"fs-3 m-3",children:d.CategoryName}),e.jsx("hr",{}),e.jsx("div",{className:"row",children:s.length>0?s.filter(m=>m.CategoryName===d.CategoryName&&m.name.toLowerCase().includes(t.toLocaleLowerCase())).map(m=>e.jsx("div",{className:"col-12 col-md-6 col-lg-3 mb-3",children:e.jsx(te,{foodItems:m,options:m.options[0]})},m._id)):e.jsx("div",{children:"No such data found"})})]},d._id)):""}),e.jsx("div",{children:e.jsx(se,{})})]})}const re=()=>{let r=D();const[t,n]=o.useState({email:"",password:""}),l=s=>{const{name:i,value:g}=s.target;n({...t,[i]:g})},a=async s=>{s.preventDefault();try{const i=await b.post("http://localhost:3000/api/loginuser",t,{headers:{"Content-Type":"application/json"}});console.log(i.data),i.data.success==!0&&(localStorage.setItem("authToken",i.data.authToken),localStorage.setItem("userEmail",t.email),console.log(localStorage.getItem("authToken")),r("/"))}catch(i){console.error(i),alert("Enter valid credentials")}};return e.jsxs("section",{children:[e.jsx("div",{children:e.jsx(w,{})}),e.jsx("div",{className:"form-box",children:e.jsx("div",{className:"form-value",children:e.jsxs("form",{onSubmit:a,children:[e.jsx("h2",{children:" Login "}),e.jsxs("div",{className:"inputbox",children:[e.jsx("ion-icon",{name:"mail-outline"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,required:!0}),e.jsx("label",{children:"Email"})]}),e.jsxs("div",{className:"inputbox",children:[e.jsx("ion-icon",{name:"lock-closed-outline"}),e.jsx("input",{type:"password",name:"password",value:t.password,onChange:l,required:!0}),e.jsx("label",{children:"Password"})]}),e.jsx("button",{type:"submit",children:"Login"}),e.jsx("div",{className:"register",children:e.jsxs("p",{children:[" Create a new user ",e.jsx(c,{className:"link",to:"/createuser",children:"Sign Up"})," "]})})]})})})]})},ne=()=>{const[r,t]=o.useState({name:"",email:"",password:"",location:""}),n=a=>{const{name:s,value:i}=a.target;t({...r,[s]:i})},l=async a=>{a.preventDefault();try{const s=await b.post("http://localhost:3000/api/createuser",r,{headers:{"Content-Type":"application/json"}});console.log(s.data)}catch(s){console.error(s),alert("Enter valid credentials")}};return e.jsxs("section",{children:[e.jsx("div",{children:e.jsx(w,{})}),e.jsx("div",{className:"form-box",children:e.jsx("div",{className:"form-value",children:e.jsxs("form",{onSubmit:l,children:[e.jsx("h2",{children:"Sign Up"}),e.jsxs("div",{className:"inputbox",children:[e.jsx("input",{type:"text",name:"name",value:r.name,onChange:n,required:!0}),e.jsx("label",{children:"Name"})]}),e.jsxs("div",{className:"inputbox",children:[e.jsx("ion-icon",{name:"mail-outline"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:n,required:!0}),e.jsx("label",{children:"Email"})]}),e.jsxs("div",{className:"inputbox",children:[e.jsx("ion-icon",{name:"lock-closed-outline"}),e.jsx("input",{type:"password",name:"password",value:r.password,onChange:n,required:!0}),e.jsx("label",{children:"Password"})]}),e.jsxs("div",{className:"inputbox",children:[e.jsx("input",{type:"text",name:"location",value:r.location,onChange:n,required:!0}),e.jsx("label",{children:"Location"})]}),e.jsx("button",{type:"submit",children:"Sign Up"}),e.jsx("div",{className:"register",children:e.jsxs("p",{children:[" Already a user ",e.jsx(c,{className:"link",to:"/login",children:"Login"})," "]})})]})})})]})};function le(){return e.jsx($,{children:e.jsx(Y,{children:e.jsx("div",{children:e.jsxs(H,{children:[e.jsx(N,{exact:!0,path:"/",element:e.jsx(ae,{})}),e.jsx(N,{exact:!0,path:"/login",element:e.jsx(re,{})}),e.jsx(N,{exact:!0,path:"/createuser",element:e.jsx(ne,{})})]})})})})}G.createRoot(document.getElementById("root")).render(e.jsx(J.StrictMode,{children:e.jsx(le,{})}));
